\doxysection{ei\+\_\+frame.\+c}
\hypertarget{ei__frame_8c_source}{}\label{ei__frame_8c_source}\index{ei\_frame.c@{ei\_frame.c}}
\mbox{\hyperlink{ei__frame_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00001}00001\ \textcolor{comment}{//\ ei\_frame.c}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__frame_8h}{ei\_frame.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__implementation_8h}{ei\_implementation.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__utils_8h}{ei\_utils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{hw__interface_8h}{hw\_interface.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__draw_8h}{ei\_draw.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__relief_8h}{ei\_relief.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__application_8h}{ei\_application.h}}"{}}\ \textcolor{comment}{//\ AJOUT:\ Pour\ ei\_app\_invalidate\_rect}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00015}\mbox{\hyperlink{ei__frame_8c_a552ebe157e434117a72de6190948c144}{00015}}\ \mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ \mbox{\hyperlink{ei__frame_8c_a552ebe157e434117a72de6190948c144}{frame\_allocfunc}}()\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00016}00016\ \ \ \ \ \textcolor{comment}{//\ ei\_impl\_widget\_t\ contient\ déjà\ bg\_color,\ border\_width,\ relief,\ text,\ img\ etc.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00017}00017\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*\ frame\ =\ calloc(1,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}));}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00018}00018\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}})frame;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00019}00019\ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00021}\mbox{\hyperlink{ei__frame_8c_aaea7e0496b64e34bbaf9c412801fb1c4}{00021}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__frame_8c_aaea7e0496b64e34bbaf9c412801fb1c4}{frame\_releasefunc}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00022}00022\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*\ frame\ =\ (\mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*)widget;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00023}00023\ \ \ \ \ \textcolor{comment}{//\ Le\ texte\ est\ libéré\ par\ ei\_widget\_destroy\ si\ widget-\/>text\ est\ utilisé.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00024}00024\ \ \ \ \ \textcolor{comment}{//\ Si\ frame\ avait\ des\ champs\ spécifiques\ nécessitant\ un\ free,\ ce\ serait\ ici.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00025}00025\ \ \ \ \ \textcolor{comment}{//\ Par\ exemple,\ si\ img\ était\ une\ copie\ locale,\ il\ faudrait\ la\ free.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00026}00026\ \ \ \ \ \textcolor{comment}{//\ Mais\ si\ c'est\ juste\ une\ référence\ (ei\_surface\_t),\ elle\ est\ gérée\ ailleurs.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00027}00027\ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00029}00029\ \textcolor{comment}{//\ Fonction\ pour\ calculer\ la\ zone\ de\ contenu\ d'un\ widget}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00030}\mbox{\hyperlink{ei__frame_8c_a44009383e760d430f8f89f5f7713856f}{00030}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ \mbox{\hyperlink{ei__frame_8c_a44009383e760d430f8f89f5f7713856f}{get\_content\_area}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00031}00031\ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ content\_area\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00032}00032\ \ \ \ \ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +=\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00033}00033\ \ \ \ \ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +=\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00034}00034\ \ \ \ \ content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ \ -\/=\ 2\ *\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00035}00035\ \ \ \ \ content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ -\/=\ 2\ *\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00036}00036\ \ \ \ \ \textcolor{keywordflow}{if}\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ <\ 0)\ content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00037}00037\ \ \ \ \ \textcolor{keywordflow}{if}\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ <\ 0)\ content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00038}00038\ \ \ \ \ \textcolor{keywordflow}{return}\ content\_area;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00039}00039\ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00042}\mbox{\hyperlink{ei__frame_8c_aece2f9a1bfbe55b6168203c0f7575376}{00042}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__frame_8c_aece2f9a1bfbe55b6168203c0f7575376}{frame\_drawfunc}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget,\ \mbox{\hyperlink{hw__interface_8h_ad9970ae727c438faaf09c58c5defb796}{ei\_surface\_t}}\ surface,\ \mbox{\hyperlink{hw__interface_8h_ad9970ae727c438faaf09c58c5defb796}{ei\_surface\_t}}\ pick\_surface,\ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}*\ clipper)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00043}00043\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*\ frame\ =\ (\mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*)widget;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00045}00045\ \ \ \ \ \textcolor{comment}{//\ 1.\ Dessiner\ le\ fond\ et\ le\ relief\ du\ frame}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00046}00046\ \ \ \ \ \textcolor{comment}{//\ Utiliser\ draw\_button\ de\ ei\_relief.c\ avec\ un\ rayon\ de\ 0\ pour\ les\ coins\ droits.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00047}00047\ \ \ \ \ \textcolor{comment}{//\ L'état\ est\ toujours\ "{}raised"{}\ ou\ "{}sunken"{}\ ou\ "{}none"{},\ pas\ d'état\ "{}pressé"{}\ pour\ un\ frame.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00048}00048\ \ \ \ \ \textcolor{keywordflow}{if}\ (frame-\/>\mbox{\hyperlink{structei__impl__widget__t_af5813e1606db0d2986463aef87e05725}{relief}}\ ==\ \mbox{\hyperlink{ei__types_8h_aa79a32b1d8ece0e44cfa394e870b270ba105222bc995071e84bce027c90a59b62}{ei\_relief\_none}}\ \&\&\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}}\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00049}00049\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__draw_8h_a8df4b1a25d4b7c46851a4e7a12a45b2e}{ei\_fill}}(surface,\ \&(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aff48ba17b0db57d4653d64044045a758}{bg\_color}}),\ \&(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));\ \textcolor{comment}{//\ Simple\ remplissage}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00050}00050\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00051}00051\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ La\ fonction\ draw\_button\ s'attend\ à\ un\ rayon.\ Pour\ un\ cadre,\ le\ rayon\ est\ 0.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00052}00052\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Elle\ dessine\ aussi\ le\ fond.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00053}00053\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__relief_8c_ad0f2769d85af5335f62f5b33b623879c}{draw\_button}}(surface,\ \&(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}),\ 0.0f,\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aff48ba17b0db57d4653d64044045a758}{bg\_color}},\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_af5813e1606db0d2986463aef87e05725}{relief}});}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00054}00054\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Remarque\ :\ draw\_button\ doit\ gérer\ le\ clipper\ si\ elle\ appelle\ ei\_draw\_polygon.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00055}00055\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Si\ draw\_button\ ne\ prend\ pas\ de\ clipper,\ il\ faudrait\ clipper\ ici\ en\ amont/aval.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00056}00056\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ On\ suppose\ que\ draw\_button\ dans\ ei\_relief.c\ utilise\ le\ clipper\ passé\ à\ ei\_draw\_polygon.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00057}00057\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00059}00059\ \ \ \ \ \textcolor{comment}{//\ 2.\ Dessiner\ le\ texte\ ou\ l'image}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00060}00060\ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ content\_area\ =\ \mbox{\hyperlink{ei__frame_8c_a44009383e760d430f8f89f5f7713856f}{get\_content\_area}}(widget);}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00062}00062\ \ \ \ \ \textcolor{keywordflow}{if}\ (frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}}\ !=\ NULL\ \&\&\ strlen(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}})\ >\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00063}00063\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__size__t}{ei\_size\_t}}\ text\_size;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00064}00064\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{hw__interface_8h_a5ad615725db9a7ae632bb371cc2846b5}{hw\_text\_compute\_size}}(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}},\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_acaf4f5a2151f73f97c491dc420d0e168}{text\_font}},\ \&text\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}},\ \&text\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}});}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00065}00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__point__t}{ei\_point\_t}}\ text\_pos;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00067}00067\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculer\ text\_pos\ en\ fonction\ de\ frame-\/>text\_anchor,\ content\_area\ et\ text\_size}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00068}00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a7ff035c82ad973064546f0fb5b4c2642}{text\_anchor}})\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a696c63e5bb8cab534cdf59d9a97f836b}{ei\_anc\_northwest}}:\ text\_pos\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}};\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450abb9d5dcbb25572cab716280dbe72014d}{ei\_anc\_north}}:\ \ \ \ \ text\_pos.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ -\/\ text\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}})\ /\ 2;\ text\_pos.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}};\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ...\ autres\ ancres\ ...}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a5704b2469014b3e93fbdb0b297ed92b0}{ei\_anc\_center}}:}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00074}00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ text\_pos.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ -\/\ text\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}})\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ text\_pos.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ -\/\ text\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}})\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00077}00077\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00078}00078\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__draw_8h_ae4494d7aa94347b711444bb0f6c64f1b}{ei\_draw\_text}}(surface,\ \&text\_pos,\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}},\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_acaf4f5a2151f73f97c491dc420d0e168}{text\_font}},\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aed9fd9ef6da2d00a547c7c2c5c4ce2bf}{text\_color}},\ \&content\_area);}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00079}00079\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (frame-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}}\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00080}00080\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ src\_img\_rect;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00081}00081\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a80d318ccd2d7a7e1dd75fdfc8ef49ffc}{img\_rect\_ptr}}\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00082}00082\ \ \ \ \ \ \ \ \ \ \ \ \ src\_img\_rect\ =\ *(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a80d318ccd2d7a7e1dd75fdfc8ef49ffc}{img\_rect\_ptr}});}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00083}00083\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ src\_img\_rect.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}\ =\ \mbox{\hyperlink{ei__utils_8h_a0340ad040bce7744b00c5b2f73e41fcb}{ei\_point\_zero}}();}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ src\_img\_rect.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}\ =\ \mbox{\hyperlink{hw__interface_8h_a7b92235ad70d5017c843c66affccdcd2}{hw\_surface\_get\_size}}(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}});}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00086}00086\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00087}00087\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00088}00088\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__size__t}{ei\_size\_t}}\ display\_img\_size\ =\ src\_img\_rect.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00089}00089\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__point__t}{ei\_point\_t}}\ img\_pos;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00090}00090\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00091}00091\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Calculer\ img\_pos\ en\ fonction\ de\ frame-\/>img\_anchor,\ content\_area\ et\ display\_img\_size}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00092}00092\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a029c66afc751e2166915e82f765dffd6}{img\_anchor}})\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00093}00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a696c63e5bb8cab534cdf59d9a97f836b}{ei\_anc\_northwest}}:\ img\_pos\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}};\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ...\ autres\ ancres\ ...}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a5704b2469014b3e93fbdb0b297ed92b0}{ei\_anc\_center}}:}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00097}00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ img\_pos.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ -\/\ display\_img\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}})\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00098}00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ img\_pos.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ -\/\ display\_img\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}})\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00099}00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00100}00100\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00101}00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ dst\_img\_rect\ =\ \{img\_pos,\ display\_img\_size\};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00102}00102\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00103}00103\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Il\ faut\ s'assurer\ que\ dst\_img\_rect\ est\ clippé\ par\ content\_area\ avant\ d'appeler\ ei\_copy\_surface}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00104}00104\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ou\ que\ ei\_copy\_surface\ gère\ le\ clipping\ par\ rapport\ à\ dst\_img\_rect\ dans\ la\ surface\ de\ destination.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Pour\ l'instant,\ on\ suppose\ que\ ei\_copy\_surface\ le\ fait.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00106}00106\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__draw_8h_ae92bf0bdd285617d694f5fe8162c20e2}{ei\_copy\_surface}}(surface,\ \&dst\_img\_rect,\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}},\ \&src\_img\_rect,\ \mbox{\hyperlink{hw__interface_8h_a99322fd87f28b843dbf722b41d9ffcfc}{hw\_surface\_has\_alpha}}(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}}));}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00107}00107\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00108}00108\ \ \ \ \ \textcolor{comment}{//\ 3.\ Dessiner\ les\ enfants}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00109}00109\ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ children\_clipper\_final;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00110}00110\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00111}00111\ \ \ \ \ \textcolor{comment}{//\ Premier\ argument\ de\ intersect\_rects\ est\ le\ rectangle\ à\ clipper\ (content\_area)}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00112}00112\ \ \ \ \ \textcolor{comment}{//\ Deuxième\ argument\ est\ le\ clipper\ externe.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00113}00113\ \ \ \ \ \textcolor{comment}{//\ Troisième\ argument\ (src\_rect)\ n'est\ pas\ utile\ ici,\ donc\ on\ passe\ NULL.}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00114}00114\ \ \ \ \ children\_clipper\_final\ =\ \mbox{\hyperlink{ei__implementation_8c_a37335a5590d7651470d877aeec5d9c2a}{intersect\_rects}}(\&content\_area,\ clipper,\ NULL);}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00115}00115\ \ \ \ \ \textcolor{comment}{//\ Note:\ 'clipper'\ est\ déjà\ un\ ei\_rect\_t*}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00116}00116\ \ \ \ \ \textcolor{comment}{//\ 'content\_area'\ est\ une\ variable\ locale\ ei\_rect\_t,\ donc\ on\ passe\ \&content\_area}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00118}00118\ \ \ \ \ \textcolor{keywordflow}{if}\ (children\_clipper\_final.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ >\ 0\ \&\&\ children\_clipper\_final.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ >\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00119}00119\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__implementation_8h_a857f4be2cbfb1be5aed407cc001ccccb}{ei\_impl\_widget\_draw\_children}}(widget,\ surface,\ pick\_surface,\ \&children\_clipper\_final);}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00120}00120\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00122}00122\ \ \ \ \ \textcolor{comment}{//\ 4.\ Dessiner\ sur\ le\ pick\_surface\ pour\ le\ frame\ lui-\/même}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00123}00123\ \ \ \ \ \textcolor{keywordflow}{if}\ (pick\_surface)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00124}00124\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__draw_8h_a8df4b1a25d4b7c46851a4e7a12a45b2e}{ei\_fill}}(pick\_surface,\ \&(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a0f0f3a719755e6e9ad65cc69aa1e0c76}{pick\_color}}),\ \&(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00125}00125\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00126}00126\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00127}00127\ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00129}\mbox{\hyperlink{ei__frame_8c_ab7589145b1a1efe83030544a1e4c5f70}{00129}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__frame_8c_ab7589145b1a1efe83030544a1e4c5f70}{frame\_setdefaultsfunc}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00130}00130\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*\ frame\ =\ (\mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*)widget;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00131}00131\ \ \ \ \ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a8916d985d3477bba2428fc0ec5c5d8fc}{requested\_size}}\ =\ \mbox{\hyperlink{ei__utils_8h_a4b1d120e983284a82145e464ad74725c}{ei\_size}}(0,\ 0);}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00132}00132\ \ \ \ \ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aff48ba17b0db57d4653d64044045a758}{bg\_color}}\ =\ \mbox{\hyperlink{ei__types_8h_a00dfca48550b7224f2d8011497b9fd8c}{ei\_default\_background\_color}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00133}00133\ \ \ \ \ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00134}00134\ \ \ \ \ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_af5813e1606db0d2986463aef87e05725}{relief}}\ =\ \mbox{\hyperlink{ei__types_8h_aa79a32b1d8ece0e44cfa394e870b270ba105222bc995071e84bce027c90a59b62}{ei\_relief\_none}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00135}00135\ \ \ \ \ \textcolor{comment}{//\ text,\ text\_font,\ text\_color,\ text\_anchor\ sont\ déjà\ initialisés\ dans\ ei\_widget\_create}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00136}00136\ \ \ \ \ \textcolor{comment}{//\ img,\ img\_rect\_ptr,\ img\_anchor\ sont\ déjà\ initialisés\ dans\ ei\_widget\_create}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00137}00137\ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00139}\mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{00139}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structei__widgetclass__t}{ei\_widgetclass\_t}}\ \mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00140}00140\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00141}\mbox{\hyperlink{ei__frame_8c_acdfaf4883aa16509c0d51e35177eb6b9}{00141}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__frame_8c_acdfaf4883aa16509c0d51e35177eb6b9}{ei\_frame\_register\_class}}()\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00142}00142\ \ \ \ \ strncpy(\mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_aa5799b5999890cf04915bf0fe5151ec8}{name}},\ \textcolor{stringliteral}{"{}frame"{}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_aa5799b5999890cf04915bf0fe5151ec8}{name}})\ -\/1);}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00143}00143\ \ \ \ \ \mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_aa5799b5999890cf04915bf0fe5151ec8}{name}}[\textcolor{keyword}{sizeof}(\mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_aa5799b5999890cf04915bf0fe5151ec8}{name}})\ -\/1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00144}00144\ \ \ \ \ \mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_a233446250cdde4347c1381427923d21a}{allocfunc}}\ =\ \mbox{\hyperlink{ei__frame_8c_a552ebe157e434117a72de6190948c144}{frame\_allocfunc}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00145}00145\ \ \ \ \ \mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_aebe6139b31816495e866c99ec3e83de6}{releasefunc}}\ =\ \mbox{\hyperlink{ei__frame_8c_aaea7e0496b64e34bbaf9c412801fb1c4}{frame\_releasefunc}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00146}00146\ \ \ \ \ \mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_a528168099a2a1515c4cf65400ccbfff2}{drawfunc}}\ =\ \mbox{\hyperlink{ei__frame_8c_aece2f9a1bfbe55b6168203c0f7575376}{frame\_drawfunc}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00147}00147\ \ \ \ \ \mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_a5fec706eefca10172d897cf61b268510}{setdefaultsfunc}}\ =\ \mbox{\hyperlink{ei__frame_8c_ab7589145b1a1efe83030544a1e4c5f70}{frame\_setdefaultsfunc}};}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00148}00148\ \ \ \ \ \mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_aaf0aa3f54a48a6b3f8b8e12574ede4b7}{geomnotifyfunc}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00149}00149\ \ \ \ \ \mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_a5ed633370e3c90d21244d93d5467227e}{handlefunc}}\ =\ NULL;\ \textcolor{comment}{//\ Un\ frame\ simple\ ne\ gère\ pas\ d'événements\ directement}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00150}00150\ \ \ \ \ \mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}}.\mbox{\hyperlink{structei__widgetclass__t_aa184e650475ec2451f033858db1876f0}{next}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00151}00151\ \ \ \ \ \mbox{\hyperlink{ei__widgetclass_8h_af742f16921cbf9c4a1a662ade31d91cc}{ei\_widgetclass\_register}}(\&\mbox{\hyperlink{ei__frame_8c_aa6ca8952bbc1a7a47667f13b10661880}{g\_frame\_class}});}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00152}00152\ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00154}\mbox{\hyperlink{ei__widget__configure_8h_ad2bb76b1a21db783819cff87db0b688a}{00154}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__frame_8c_ad2bb76b1a21db783819cff87db0b688a}{ei\_frame\_configure}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__size__t}{ei\_size\_t}}*\ requested\_size,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structei__color__t}{ei\_color\_t}}*\ color,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00157}00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}*\ border\_width,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_aa79a32b1d8ece0e44cfa394e870b270b}{ei\_relief\_t}}*\ relief,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_ae933567aa1853d61b39fefb777088417}{ei\_string\_t}}*\ text,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_a22c8198e4d641e4bc67bb17f9c6bcda7}{ei\_font\_t}}*\ text\_font,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__color__t}{ei\_color\_t}}*\ text\_color,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450}{ei\_anchor\_t}}*\ text\_anchor,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{hw__interface_8h_ad9970ae727c438faaf09c58c5defb796}{ei\_surface\_t}}*\ img,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_ptr\_t}}*\ img\_rect,}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450}{ei\_anchor\_t}}*\ img\_anchor)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00166}00166\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00167}00167\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*\ frame\ =\ (\mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*)widget;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00168}00168\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00169}00169\ \ \ \ \ \textcolor{keywordflow}{if}\ (requested\_size)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a8916d985d3477bba2428fc0ec5c5d8fc}{requested\_size}}\ =\ *requested\_size;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00170}00170\ \ \ \ \ \textcolor{keywordflow}{if}\ (color)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aff48ba17b0db57d4653d64044045a758}{bg\_color}}\ =\ *color;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00171}00171\ \ \ \ \ \textcolor{keywordflow}{if}\ (border\_width)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}}\ =\ *border\_width;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00172}00172\ \ \ \ \ \textcolor{keywordflow}{if}\ (relief)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_af5813e1606db0d2986463aef87e05725}{relief}}\ =\ *relief;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00173}00173\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00174}00174\ \ \ \ \ \textcolor{keywordflow}{if}\ (text)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00175}00175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}})\ free(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}});}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00176}00176\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*text)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}}\ =\ strdup(*text);\ \textcolor{keywordflow}{else}\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00177}00177\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00178}00178\ \ \ \ \ \textcolor{keywordflow}{if}\ (text\_font)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_acaf4f5a2151f73f97c491dc420d0e168}{text\_font}}\ =\ *text\_font;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00179}00179\ \ \ \ \ \textcolor{keywordflow}{if}\ (text\_color)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_aed9fd9ef6da2d00a547c7c2c5c4ce2bf}{text\_color}}\ =\ *text\_color;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00180}00180\ \ \ \ \ \textcolor{keywordflow}{if}\ (text\_anchor)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a7ff035c82ad973064546f0fb5b4c2642}{text\_anchor}}\ =\ *text\_anchor;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00181}00181\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00182}00182\ \ \ \ \ \textcolor{keywordflow}{if}\ (img)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}}\ =\ *img;\ \textcolor{comment}{//\ Référence}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00183}00183\ \ \ \ \ \textcolor{keywordflow}{if}\ (img\_rect)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00184}00184\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*img\_rect\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a80d318ccd2d7a7e1dd75fdfc8ef49ffc}{img\_rect\_ptr}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00186}00186\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a3c15b5d61639acdf50a32f2f1f2e92d4}{img\_rect\_val}}\ =\ **img\_rect;\ \textcolor{comment}{//\ Copie\ de\ la\ valeur}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a80d318ccd2d7a7e1dd75fdfc8ef49ffc}{img\_rect\_ptr}}\ =\ \&(frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a3c15b5d61639acdf50a32f2f1f2e92d4}{img\_rect\_val}});}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00189}00189\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00190}00190\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00191}00191\ \ \ \ \ \textcolor{keywordflow}{if}\ (img\_anchor)\ frame-\/>\mbox{\hyperlink{structei__impl__widget__t_a029c66afc751e2166915e82f765dffd6}{img\_anchor}}\ =\ *img\_anchor;}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00192}00192\ }
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00193}00193\ \ \ \ \ \textcolor{comment}{//\ Si\ la\ taille\ ou\ le\ texte/image\ change,\ il\ faut\ potentiellement\ recalculer\ la\ géométrie}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00194}00194\ \ \ \ \ \textcolor{keywordflow}{if}\ (requested\_size\ ||\ text\ ||\ img)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00195}00195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}})\ \{\ \textcolor{comment}{//\ Si\ déjà\ placé}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ei\_app\_invalidate\_rect(\&(widget-\/>screen\_location));\ //\ Invalider\ l'ancienne}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__implementation_8h_a5761c9590158c7d37714479307ee1059}{ei\_impl\_placer\_run}}(widget);\ \textcolor{comment}{//\ Recalculer\ et\ invalider\ la\ nouvelle}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00198}00198\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00199}00199\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (color\ ||\ border\_width\ ||\ relief)\ \{}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00200}00200\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Juste\ un\ redessin\ est\ nécessaire\ si\ la\ géométrie\ ne\ change\ pas}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00201}00201\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__application_8h_a92110923e2f3b88c9e0c5cf5071cf410}{ei\_app\_invalidate\_rect}}(\&(widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00202}00202\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__frame_8c_source_l00203}00203\ \}}

\end{DoxyCode}
