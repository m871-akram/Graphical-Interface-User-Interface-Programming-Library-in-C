\doxysection{ei\+\_\+placer.\+c}
\hypertarget{ei__placer_8c_source}{}\label{ei__placer_8c_source}\index{ei\_placer.c@{ei\_placer.c}}
\mbox{\hyperlink{ei__placer_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00001}00001\ \textcolor{comment}{//\ ei\_placer.c}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__application_8h}{ei\_application.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__placer_8h}{ei\_placer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__implementation_8h}{ei\_implementation.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__widget__attributes_8h}{ei\_widget\_attributes.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__utils_8h}{ei\_utils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00007}00007\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <math.h>}\ \textcolor{comment}{//\ Pour\ roundf}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00011}00011\ \textcolor{comment}{//\ Fonction\ interne\ pour\ appliquer\ les\ paramètres\ de\ placement}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00012}\mbox{\hyperlink{ei__implementation_8h_a5761c9590158c7d37714479307ee1059}{00012}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__placer_8c_a5761c9590158c7d37714479307ee1059}{ei\_impl\_placer\_run}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget)\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00013}00013\ \ \ \ \ \textcolor{keywordflow}{if}\ (widget\ ==\ NULL\ ||\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}\ ==\ NULL\ ||\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a8499862f1cf40cd99b52f1f38a32e9b0}{parent}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00014}00014\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Ne\ pas\ placer\ le\ root\_widget\ via\ le\ placeur,\ ou\ si\ pas\ de\ parent/params}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00015}00015\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (widget\ ==\ \mbox{\hyperlink{ei__application_8h_a951633a600dd86ac1f68b1c4b47e5085}{ei\_app\_root\_widget}}()\ \&\&\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a8499862f1cf40cd99b52f1f38a32e9b0}{parent}}\ ==\ NULL)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00016}00016\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ fprintf(stderr,\ "{}ei\_impl\_placer\_run:\ widget,\ placer\_params\ ou\ parent\ est\ NULL.\(\backslash\)n"{});}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00017}00017\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00018}00018\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00020}00020\ \ \ \ \ \mbox{\hyperlink{structei__impl__placer__params__t}{ei\_impl\_placer\_params\_t}}*\ params\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00021}00021\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}*\ parent\_content\_rect\ =\ \mbox{\hyperlink{ei__widget__attributes_8h_a1f395ad04c0e967e2746bfebc5cf6f79}{ei\_widget\_get\_content\_rect}}(widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a8499862f1cf40cd99b52f1f38a32e9b0}{parent}});}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00023}00023\ \ \ \ \ \textcolor{keywordflow}{if}\ (parent\_content\_rect\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00024}00024\ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}ei\_impl\_placer\_run:\ Parent\ de\ \%p\ n'a\ pas\ de\ content\_rect.\(\backslash\)n"{}},\ (\textcolor{keywordtype}{void}*)widget);}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00025}00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00026}00026\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00028}00028\ \ \ \ \ \textcolor{comment}{//\ 1.\ Calcul\ de\ la\ taille\ finale\ du\ widget\ (width,\ height)}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00029}00029\ \ \ \ \ \mbox{\hyperlink{structei__size__t}{ei\_size\_t}}\ final\_size;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00031}00031\ \ \ \ \ \textcolor{comment}{//\ Largeur}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00032}00032\ \ \ \ \ \textcolor{keywordflow}{if}\ (params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_aa5b4153a4caa4ce6090f397a0f48cc6e}{width}}\ >=\ 0)\ \{\ \textcolor{comment}{//\ Priorité\ à\ la\ largeur\ absolue}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00033}00033\ \ \ \ \ \ \ \ \ final\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ =\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_aa5b4153a4caa4ce6090f397a0f48cc6e}{width}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00034}00034\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_afb32970b5eecb609fe6eb13e9d1acd4e}{rel\_width}}\ >=\ 0.0f)\ \{\ \textcolor{comment}{//\ Puis\ relative}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00035}00035\ \ \ \ \ \ \ \ \ final\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ =\ (int)roundf(params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_afb32970b5eecb609fe6eb13e9d1acd4e}{rel\_width}}\ *\ parent\_content\_rect-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}});}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00036}00036\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ Sinon,\ taille\ demandée\ par\ le\ widget}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00037}00037\ \ \ \ \ \ \ \ \ final\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a8916d985d3477bba2428fc0ec5c5d8fc}{requested\_size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00038}00038\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00040}00040\ \ \ \ \ \textcolor{comment}{//\ Hauteur}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00041}00041\ \ \ \ \ \textcolor{keywordflow}{if}\ (params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ad7d7177ecee80ee85dc1680bddac8ca2}{height}}\ >=\ 0)\ \{\ \textcolor{comment}{//\ Priorité\ à\ la\ hauteur\ absolue}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00042}00042\ \ \ \ \ \ \ \ \ final\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ =\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ad7d7177ecee80ee85dc1680bddac8ca2}{height}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00043}00043\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a738cef76ca13ff014a40cb9cb7a8c4d5}{rel\_height}}\ >=\ 0.0f)\ \{\ \textcolor{comment}{//\ Puis\ relative}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00044}00044\ \ \ \ \ \ \ \ \ final\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ =\ (int)roundf(params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a738cef76ca13ff014a40cb9cb7a8c4d5}{rel\_height}}\ *\ parent\_content\_rect-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}});}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00045}00045\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{\ \textcolor{comment}{//\ Sinon,\ taille\ demandée\ par\ le\ widget}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00046}00046\ \ \ \ \ \ \ \ \ final\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a8916d985d3477bba2428fc0ec5c5d8fc}{requested\_size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00047}00047\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00049}00049\ \ \ \ \ \textcolor{comment}{//\ 2.\ Calcul\ de\ la\ position\ du\ point\ d'ancrage\ du\ widget\ DANS\ le\ parent}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00050}00050\ \ \ \ \ \mbox{\hyperlink{structei__point__t}{ei\_point\_t}}\ anchor\_pos\_in\_parent;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00051}00051\ \ \ \ \ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ab72d035372e180c40a5777eb51b53852}{x}}\ +\ (int)roundf(params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a0b674033dda0a8bd50de3ff9cbfb5e5a}{rel\_x}}\ *\ parent\_content\_rect-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}});}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00052}00052\ \ \ \ \ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a1b0ee40b7c19519b0c8cfb8b7d35f313}{y}}\ +\ (int)roundf(params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ae7f2835e7470d766966e20d71acdf523}{rel\_y}}\ *\ parent\_content\_rect-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}});}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00054}00054\ \ \ \ \ \textcolor{comment}{//\ Le\ point\ d'ancrage\ est\ relatif\ au\ coin\ top-\/left\ du\ content\_rect\ du\ parent}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00055}00055\ \ \ \ \ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +=\ parent\_content\_rect-\/>\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00056}00056\ \ \ \ \ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +=\ parent\_content\_rect-\/>\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00058}00058\ \ \ \ \ \textcolor{comment}{//\ 3.\ Calcul\ de\ la\ position\ top-\/left\ réelle\ du\ widget\ sur\ l'écran,\ en\ fonction\ de\ l'ancre}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00059}00059\ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}\ =\ anchor\_pos\_in\_parent;\ \textcolor{comment}{//\ Initialisation\ pour\ anc\_northwest}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00061}00061\ \ \ \ \ \textcolor{keywordflow}{switch}\ (params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ac5550d9117f7e75dc496e7afbbeb2a21}{anchor}})\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a696c63e5bb8cab534cdf59d9a97f836b}{ei\_anc\_northwest}}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Déjà\ correct}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00065}00065\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450abb9d5dcbb25572cab716280dbe72014d}{ei\_anc\_north}}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00066}00066\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00068}00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450af4ba72d1581a2e133eaeb6c00c912cff}{ei\_anc\_northeast}}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00071}00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450af260d86ff3940d57139f0f8de9488512}{ei\_anc\_west}}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00072}00072\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00073}00073\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00074}00074\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a5704b2469014b3e93fbdb0b297ed92b0}{ei\_anc\_center}}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00075}00075\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00077}00077\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00078}00078\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450ac60193e3f00916df2272dee7b33c1143}{ei\_anc\_east}}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00079}00079\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00080}00080\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00082}00082\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a200959a22ba17a83310a97570f62f392}{ei\_anc\_southwest}}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00083}00083\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00084}00084\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00085}00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a912ba0dd51dde60a610fbce211cf1b35}{ei\_anc\_south}}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00089}00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450ac6ab86aaa5a6f70cf4a49ed317686c7e}{ei\_anc\_southeast}}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ anchor\_pos\_in\_parent.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ -\/\ final\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00092}00092\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00093}00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a00688941d6793b4165bbc56edb70646a}{ei\_anc\_none}}:\ \textcolor{comment}{//\ Devrait\ être\ traité\ comme\ northwest\ par\ défaut\ selon\ la\ doc}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00094}00094\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ei\_anc\_northwest\ est\ déjà\ le\ comportement\ par\ défaut}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00096}00096\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00097}00097\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00098}00098\ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}\ =\ final\_size;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00100}00100\ \ \ \ \ \textcolor{comment}{//\ 4.\ Mettre\ à\ jour\ le\ content\_rect\ du\ widget}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00101}00101\ \ \ \ \ \textcolor{comment}{//\ \ \ \ Le\ content\_rect\ est\ screen\_location\ moins\ les\ bordures.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00102}00102\ \ \ \ \ \textcolor{comment}{//\ \ \ \ Si\ le\ widget\ n'a\ pas\ de\ content\_rect\ distinct\ alloué,\ on\ ne\ peut\ pas\ le\ modifier\ directement}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00103}00103\ \ \ \ \ \textcolor{comment}{//\ \ \ \ s'il\ pointe\ vers\ screen\_location.\ Il\ faut\ que\ les\ classes\ gèrent\ cela.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00104}00104\ \ \ \ \ \textcolor{comment}{//\ \ \ \ Pour\ l'instant,\ on\ laisse\ content\_rect\ pointer\ vers\ screen\_location\ et\ les\ classes}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00105}00105\ \ \ \ \ \textcolor{comment}{//\ \ \ \ s'occuperont\ de\ calculer\ la\ zone\ de\ contenu\ pour\ leurs\ enfants.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00106}00106\ \ \ \ \ \textcolor{comment}{//\ \ \ \ Une\ meilleure\ solution\ serait\ que\ ei\_impl\_widget\_t\ ait\ un\ champ\ ei\_rect\_t\ content\_rect\_value}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00107}00107\ \ \ \ \ \textcolor{comment}{//\ \ \ \ et\ que\ content\_rect\ pointe\ dessus,\ puis\ on\ le\ met\ à\ jour\ ici.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00108}00108\ \ \ \ \ \textcolor{comment}{//\ \ \ \ Pour\ la\ version\ A.5,\ content\_rect\ =\ screen\_location\ est\ acceptable.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00109}00109\ \ \ \ \ \textcolor{comment}{//\ \ \ \ Pour\ une\ version\ plus\ avancée:}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00110}00110\ \ \ \ \ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}\ ==\ \&(widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}))\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Si\ content\_rect\ pointe\ vers\ screen\_location,\ il\ est\ mis\ à\ jour\ automatiquement.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00112}00112\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Cependant,\ pour\ avoir\ un\ VRAI\ content\_rect\ (intérieur\ aux\ bordures),\ il\ faudrait}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ soit\ une\ copie,\ soit\ une\ structure\ dédiée.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ On\ va\ supposer\ que\ les\ drawfunc\ des\ widgets\ calculent\ la\ zone\ pour\ leurs\ enfants}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ à\ partir\ de\ screen\_location\ et\ border\_width.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00116}00116\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}\ !=\ NULL)\ \{\ \textcolor{comment}{//\ Si\ un\ content\_rect\ distinct\ est\ alloué}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00117}00117\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}-\/>\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00118}00118\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}-\/>\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00119}00119\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ \ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ \ -\/\ 2\ *\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00120}00120\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ -\/\ 2\ *\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00121}00121\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ <\ 0)\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00122}00122\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ <\ 0)\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a55bc37d2f8f790d2882c71d9bd198127}{content\_rect}}-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00123}00123\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00125}00125\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00126}00126\ \ \ \ \ \textcolor{comment}{//\ Notifier\ le\ widget\ que\ sa\ géométrie\ a\ changé}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00127}00127\ \ \ \ \ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aa6ab44d2da83877b1d83e1a6cea7034e}{wclass}}\ \&\&\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aa6ab44d2da83877b1d83e1a6cea7034e}{wclass}}-\/>\mbox{\hyperlink{structei__widgetclass__t_aaf0aa3f54a48a6b3f8b8e12574ede4b7}{geomnotifyfunc}})\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00128}00128\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aa6ab44d2da83877b1d83e1a6cea7034e}{wclass}}-\/>\mbox{\hyperlink{structei__widgetclass__t_aaf0aa3f54a48a6b3f8b8e12574ede4b7}{geomnotifyfunc}}(widget);}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00129}00129\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00130}00130\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00131}00131\ \ \ \ \ \textcolor{comment}{//\ Mettre\ à\ jour\ la\ géométrie\ des\ enfants\ récursivement}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00132}00132\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ child\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aa4a6383448c3e9bee6a8b0bc2ae15dc9}{children\_head}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00133}00133\ \ \ \ \ \textcolor{keywordflow}{while}\ (child\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00134}00134\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__placer_8c_a5761c9590158c7d37714479307ee1059}{ei\_impl\_placer\_run}}(child);}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00135}00135\ \ \ \ \ \ \ \ \ child\ =\ child-\/>\mbox{\hyperlink{structei__impl__widget__t_a638762e72c295c58b34c50c5b11425ae}{next\_sibling}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00136}00136\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00137}00137\ \ \ \ \ \ \textcolor{comment}{//\ Invalider\ la\ nouvelle\ zone\ pour\ redessin\ (sera\ fait\ par\ l'application)}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00138}00138\ \ \ \ \ \mbox{\hyperlink{ei__application_8h_a92110923e2f3b88c9e0c5cf5071cf410}{ei\_app\_invalidate\_rect}}(\&(widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00139}00139\ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00140}00140\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00142}\mbox{\hyperlink{ei__placer_8h_ab634353bc9e3d34a70d48c28bce08b52}{00142}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__placer_8c_ab634353bc9e3d34a70d48c28bce08b52}{ei\_place}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget,}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00143}00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450}{ei\_anchor\_t}}*\ anchor,}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00144}00144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}*\ x,\ \textcolor{keywordtype}{int}*\ y,}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}*\ width,\ \textcolor{keywordtype}{int}*\ height,}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}*\ rel\_x,}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}*\ rel\_y,}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}*\ rel\_width,}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}*\ rel\_height)}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00150}00150\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00151}00151\ \ \ \ \ \textcolor{keywordflow}{if}\ (widget\ ==\ NULL)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00152}00152\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00153}00153\ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ old\_location\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}};\ \textcolor{comment}{//\ Sauvegarder\ l'ancienne\ position}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00155}00155\ \ \ \ \ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00156}00156\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}\ =\ malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structei__impl__placer__params__t}{ei\_impl\_placer\_params\_t}}));}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00157}00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}\ ==\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ fprintf(stderr,\ \textcolor{stringliteral}{"{}ei\_place:\ Erreur\ d'allocation\ pour\ placer\_params\(\backslash\)n"{}});}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00159}00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00160}00160\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00161}00161\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Valeurs\ par\ défaut\ spécifiées\ dans\ la\ documentation\ de\ ei\_place}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00162}00162\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ac5550d9117f7e75dc496e7afbbeb2a21}{anchor}}\ \ \ \ =\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a696c63e5bb8cab534cdf59d9a97f836b}{ei\_anc\_northwest}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00163}00163\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ab72d035372e180c40a5777eb51b53852}{x}}\ \ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00164}00164\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a1b0ee40b7c19519b0c8cfb8b7d35f313}{y}}\ \ \ \ \ \ \ \ \ =\ 0;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00165}00165\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}-\/>\mbox{\hyperlink{structei__impl__placer__params__t_aa5b4153a4caa4ce6090f397a0f48cc6e}{width}}\ \ \ \ \ =\ -\/1;\ \textcolor{comment}{//\ Signifie:\ utiliser\ requested\_size\ ou\ rel\_width\ si\ défini}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00166}00166\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ad7d7177ecee80ee85dc1680bddac8ca2}{height}}\ \ \ \ =\ -\/1;\ \textcolor{comment}{//\ Signifie:\ utiliser\ requested\_size\ ou\ rel\_height\ si\ défini}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00167}00167\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a0b674033dda0a8bd50de3ff9cbfb5e5a}{rel\_x}}\ \ \ \ \ =\ 0.0f;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00168}00168\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ae7f2835e7470d766966e20d71acdf523}{rel\_y}}\ \ \ \ \ =\ 0.0f;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00169}00169\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}-\/>\mbox{\hyperlink{structei__impl__placer__params__t_afb32970b5eecb609fe6eb13e9d1acd4e}{rel\_width}}\ =\ -\/1.0f;\ \textcolor{comment}{//\ Signifie:\ non\ utilisé\ ou\ utiliser\ width\ si\ défini}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00170}00170\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a738cef76ca13ff014a40cb9cb7a8c4d5}{rel\_height}}=\ -\/1.0f;\ \textcolor{comment}{//\ Signifie:\ non\ utilisé\ ou\ utiliser\ height\ si\ défini}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00171}00171\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00173}00173\ \ \ \ \ \mbox{\hyperlink{structei__impl__placer__params__t}{ei\_impl\_placer\_params\_t}}*\ params\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}};}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00174}00174\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00175}00175\ \ \ \ \ \textcolor{keywordflow}{if}\ (anchor)\ \ \ \ \ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ac5550d9117f7e75dc496e7afbbeb2a21}{anchor}}\ \ \ \ \ =\ *anchor;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00176}00176\ \ \ \ \ \textcolor{keywordflow}{if}\ (x)\ \ \ \ \ \ \ \ \ \ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ab72d035372e180c40a5777eb51b53852}{x}}\ \ \ \ \ \ \ \ \ \ =\ *x;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00177}00177\ \ \ \ \ \textcolor{keywordflow}{if}\ (y)\ \ \ \ \ \ \ \ \ \ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a1b0ee40b7c19519b0c8cfb8b7d35f313}{y}}\ \ \ \ \ \ \ \ \ \ =\ *y;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00178}00178\ \ \ \ \ \textcolor{keywordflow}{if}\ (width)\ \ \ \ \ \ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_aa5b4153a4caa4ce6090f397a0f48cc6e}{width}}\ \ \ \ \ \ =\ *width;\ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (width\ ==\ NULL\ \&\&\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_aa5b4153a4caa4ce6090f397a0f48cc6e}{width}}\ ==\ -\/1)\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_aa5b4153a4caa4ce6090f397a0f48cc6e}{width}}\ =\ -\/1;\ \textcolor{comment}{//\ Conserver\ -\/1\ si\ NULL}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00179}00179\ \ \ \ \ \textcolor{keywordflow}{if}\ (height)\ \ \ \ \ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ad7d7177ecee80ee85dc1680bddac8ca2}{height}}\ \ \ \ \ =\ *height;\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (height\ ==\ NULL\ \&\&\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ad7d7177ecee80ee85dc1680bddac8ca2}{height}}\ ==\ -\/1)\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ad7d7177ecee80ee85dc1680bddac8ca2}{height}}\ =\ -\/1;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00180}00180\ \ \ \ \ \textcolor{keywordflow}{if}\ (rel\_x)\ \ \ \ \ \ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a0b674033dda0a8bd50de3ff9cbfb5e5a}{rel\_x}}\ \ \ \ \ \ =\ *rel\_x;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00181}00181\ \ \ \ \ \textcolor{keywordflow}{if}\ (rel\_y)\ \ \ \ \ \ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_ae7f2835e7470d766966e20d71acdf523}{rel\_y}}\ \ \ \ \ \ =\ *rel\_y;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00182}00182\ \ \ \ \ \textcolor{keywordflow}{if}\ (rel\_width)\ \ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_afb32970b5eecb609fe6eb13e9d1acd4e}{rel\_width}}\ \ =\ *rel\_width;\ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (rel\_width\ ==\ NULL\ \&\&\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_afb32970b5eecb609fe6eb13e9d1acd4e}{rel\_width}}\ ==\ -\/1.0f)\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_afb32970b5eecb609fe6eb13e9d1acd4e}{rel\_width}}\ =\ -\/1.0f;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00183}00183\ \ \ \ \ \textcolor{keywordflow}{if}\ (rel\_height)\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a738cef76ca13ff014a40cb9cb7a8c4d5}{rel\_height}}\ =\ *rel\_height;\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (rel\_height\ ==\ NULL\ \&\&\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a738cef76ca13ff014a40cb9cb7a8c4d5}{rel\_height}}\ ==\ -\/1.0f)\ params-\/>\mbox{\hyperlink{structei__impl__placer__params__t_a738cef76ca13ff014a40cb9cb7a8c4d5}{rel\_height}}\ =\ -\/1.0f;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00184}00184\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00185}00185\ \ \ \ \ \textcolor{comment}{//\ Si\ une\ dimension\ relative\ est\ fournie,\ la\ dimension\ absolue\ correspondante\ doit\ être\ ignorée}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00186}00186\ \ \ \ \ \textcolor{comment}{//\ (sauf\ si\ l'absolue\ est\ explicitement\ donnée\ et\ >\ -\/1,\ elle\ a\ priorité\ sur\ la\ rel\_size\ dans\ mon\ impl\_placer\_run)}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00187}00187\ \ \ \ \ \textcolor{comment}{//\ La\ doc\ de\ ei\_place\ dit:\ "{}If\ no\ size\ is\ provided\ (either\ absolute\ or\ relative),\ then\ either\ the\ requested\ size..."{}.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00188}00188\ \ \ \ \ \textcolor{comment}{//\ Ma\ logique\ dans\ impl\_placer\_run:\ abs\ >\ rel\ >\ requested.}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00189}00189\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00190}00190\ \ \ \ \ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a8499862f1cf40cd99b52f1f38a32e9b0}{parent}}\ !=\ NULL)\ \{\ \textcolor{comment}{//\ Ne\ pas\ essayer\ de\ placer\ le\ root\ widget}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00191}00191\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__application_8h_a92110923e2f3b88c9e0c5cf5071cf410}{ei\_app\_invalidate\_rect}}(\&old\_location);\ \textcolor{comment}{//\ Invalider\ l'ancienne\ position}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00192}00192\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__placer_8c_a5761c9590158c7d37714479307ee1059}{ei\_impl\_placer\_run}}(widget);\ \textcolor{comment}{//\ Appliquer\ les\ nouveaux\ paramètres\ et\ invalider\ la\ nouvelle}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00193}00193\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00194}00194\ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00195}00195\ }
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00196}\mbox{\hyperlink{ei__placer_8h_ae52cd3699ee9c80ff8bf6ab4dbb9d67b}{00196}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__placer_8c_ae52cd3699ee9c80ff8bf6ab4dbb9d67b}{ei\_placer\_forget}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget)\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00197}00197\ \ \ \ \ \textcolor{keywordflow}{if}\ (widget\ !=\ NULL\ \&\&\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00198}00198\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__application_8h_a92110923e2f3b88c9e0c5cf5071cf410}{ei\_app\_invalidate\_rect}}(\&(widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));\ \textcolor{comment}{//\ Invalider\ la\ zone\ qu'il\ occupait}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00199}00199\ \ \ \ \ \ \ \ \ free(widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}});}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00200}00200\ \ \ \ \ \ \ \ \ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00201}00201\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__placer_8c_source_l00202}00202\ \}}

\end{DoxyCode}
