\doxysection{ei\+\_\+button.\+c}
\hypertarget{ei__button_8c_source}{}\label{ei__button_8c_source}\index{ei\_button.c@{ei\_button.c}}
\mbox{\hyperlink{ei__button_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00001}00001\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__button_8h}{ei\_button.h}}"{}}\ \textcolor{comment}{//\ Nouveau\ nom\ de\ header}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00002}00002\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__implementation_8h}{ei\_implementation.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00003}00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__utils_8h}{ei\_utils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00004}00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__draw_8h}{ei\_draw.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__relief_8h}{ei\_relief.h}}"{}}\ \textcolor{comment}{//\ Pour\ draw\_button}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__event_8h}{ei\_event.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__application_8h}{ei\_application.h}}"{}}\ \textcolor{comment}{//\ Pour\ ei\_app\_invalidate\_rect,\ ei\_event\_set\_active\_widget}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{ei__widget__configure_8h}{ei\_widget\_configure.h}}"{}}\ \textcolor{comment}{//\ Pour\ les\ constantes\ k\_default\_...}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <string.h>}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00014}00014\ \textcolor{comment}{//\ Fonctions\ de\ la\ classe\ "{}button"{}}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00015}\mbox{\hyperlink{ei__button_8c_a9e3ca58537c286bea68cb78b5d98680c}{00015}}\ \mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ \mbox{\hyperlink{ei__button_8c_a9e3ca58537c286bea68cb78b5d98680c}{button\_allocfunc}}()\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00016}00016\ \ \ \ \ \mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}*\ button\ =\ calloc(1,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00017}00017\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}})button;\ \textcolor{comment}{//\ Le\ cast\ est\ vers\ ei\_widget\_t\ qui\ est\ ei\_impl\_widget\_t*}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00018}00018\ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00020}\mbox{\hyperlink{ei__button_8c_abf0296da79c7d8d40e88e6abba4b2d56}{00020}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__button_8c_abf0296da79c7d8d40e88e6abba4b2d56}{button\_releasefunc}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00021}00021\ \ \ \ \ \textcolor{comment}{//\ ei\_impl\_button\_t*\ button\ =\ (ei\_impl\_button\_t*)widget;}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00022}00022\ \ \ \ \ \textcolor{comment}{//\ Le\ champ\ text\ de\ widget.text\ est\ libéré\ par\ ei\_widget\_destroy.}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00023}00023\ \ \ \ \ \textcolor{comment}{//\ Pas\ d'autres\ allocations\ spécifiques\ au\ bouton\ simple\ ici.}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00024}00024\ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00026}00026\ \textcolor{comment}{//\ Fonction\ pour\ calculer\ la\ zone\ de\ contenu\ d'un\ widget\ (identique\ à\ celle\ dans\ frame.c)}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00027}\mbox{\hyperlink{ei__button_8c_a2a8bec54957c6bc660ba586367e50fe9}{00027}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ \mbox{\hyperlink{ei__button_8c_a2a8bec54957c6bc660ba586367e50fe9}{button\_get\_content\_area}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00028}00028\ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ content\_area\ =\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00029}00029\ \ \ \ \ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +=\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00030}00030\ \ \ \ \ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +=\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00031}00031\ \ \ \ \ content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ \ -\/=\ 2\ *\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00032}00032\ \ \ \ \ content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ -\/=\ 2\ *\ widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00033}00033\ \ \ \ \ \textcolor{keywordflow}{if}\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ <\ 0)\ content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00034}00034\ \ \ \ \ \textcolor{keywordflow}{if}\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ <\ 0)\ content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00035}00035\ \ \ \ \ \textcolor{keywordflow}{return}\ content\_area;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00036}00036\ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00038}\mbox{\hyperlink{ei__button_8c_a9ba50d4fd7410bc63b8f3c4237c54848}{00038}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__button_8c_a9ba50d4fd7410bc63b8f3c4237c54848}{button\_drawfunc}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget,\ \mbox{\hyperlink{hw__interface_8h_ad9970ae727c438faaf09c58c5defb796}{ei\_surface\_t}}\ surface,\ \mbox{\hyperlink{hw__interface_8h_ad9970ae727c438faaf09c58c5defb796}{ei\_surface\_t}}\ pick\_surface,\ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}*\ clipper)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00039}00039\ \ \ \ \ \mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}*\ button\ =\ (\mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}*)widget;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00040}00040\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*\ w\ =\ \&(button-\/>\mbox{\hyperlink{structei__impl__button__t_a5ea02b641a60db76f8ced737fc62ba92}{widget}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00042}00042\ \ \ \ \ \textcolor{comment}{//\ 1.\ Déterminer\ le\ relief\ actuel\ en\ fonction\ de\ is\_pressed}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00043}00043\ \ \ \ \ \mbox{\hyperlink{ei__types_8h_aa79a32b1d8ece0e44cfa394e870b270b}{ei\_relief\_t}}\ current\_relief\ =\ button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}}\ ?\ \mbox{\hyperlink{ei__types_8h_aa79a32b1d8ece0e44cfa394e870b270ba227a7ad58efd20f955450357c0bd4b36}{ei\_relief\_sunken}}\ :\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_af5813e1606db0d2986463aef87e05725}{relief}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00045}00045\ \ \ \ \ \textcolor{comment}{//\ 2.\ Dessiner\ le\ fond\ du\ bouton\ avec\ relief\ et\ coins\ arrondis}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00046}00046\ \ \ \ \ \textcolor{comment}{//\ \ \ \ en\ utilisant\ draw\_button\ de\ ei\_relief.c}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00047}00047\ \ \ \ \ \mbox{\hyperlink{ei__relief_8c_ad0f2769d85af5335f62f5b33b623879c}{draw\_button}}(surface,\ \&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}),\ (\textcolor{keywordtype}{float})button-\/>\mbox{\hyperlink{structei__impl__button__t_a2f0240590eb1b3f4bd22f387ed63e7ff}{corner\_radius}},\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_aff48ba17b0db57d4653d64044045a758}{bg\_color}},\ current\_relief);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00048}00048\ \ \ \ \ \textcolor{comment}{//\ On\ suppose\ que\ draw\_button\ dans\ ei\_relief.c\ respecte\ le\ clipper\ en\ le\ passant\ à\ ei\_draw\_polygon.}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00050}00050\ \ \ \ \ \textcolor{comment}{//\ 3.\ Dessiner\ le\ texte\ ou\ l'image\ au\ centre\ du\ content\_rect\ du\ bouton}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00051}00051\ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ content\_area\ =\ \mbox{\hyperlink{ei__button_8c_a2a8bec54957c6bc660ba586367e50fe9}{button\_get\_content\_area}}(widget);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00053}00053\ \ \ \ \ \textcolor{keywordflow}{if}\ (w-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}}\ !=\ NULL\ \&\&\ strlen(w-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}})\ >\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00054}00054\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__size__t}{ei\_size\_t}}\ text\_size;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00055}00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{hw__interface_8h_a5ad615725db9a7ae632bb371cc2846b5}{hw\_text\_compute\_size}}(w-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}},\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_acaf4f5a2151f73f97c491dc420d0e168}{text\_font}},\ \&text\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}},\ \&text\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00056}00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__point__t}{ei\_point\_t}}\ text\_pos;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00057}00057\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00058}00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (w-\/>\mbox{\hyperlink{structei__impl__widget__t_a7ff035c82ad973064546f0fb5b4c2642}{text\_anchor}})\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a696c63e5bb8cab534cdf59d9a97f836b}{ei\_anc\_northwest}}:\ text\_pos\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}};\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ...\ autres\ ancres\ ...}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00061}00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a5704b2469014b3e93fbdb0b297ed92b0}{ei\_anc\_center}}:}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00062}00062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00063}00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ text\_pos.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ -\/\ text\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}})\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ text\_pos.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ -\/\ text\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}})\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00066}00066\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00067}00067\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00068}00068\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}})\ \{\ \textcolor{comment}{//\ Décaler\ si\ pressé}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00069}00069\ \ \ \ \ \ \ \ \ \ \ \ \ text\_pos.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +=\ 1;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ \ text\_pos.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +=\ 1;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00071}00071\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00072}00072\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__draw_8h_ae4494d7aa94347b711444bb0f6c64f1b}{ei\_draw\_text}}(surface,\ \&text\_pos,\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}},\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_acaf4f5a2151f73f97c491dc420d0e168}{text\_font}},\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_aed9fd9ef6da2d00a547c7c2c5c4ce2bf}{text\_color}},\ \&content\_area);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00073}00073\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (w-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}}\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00074}00074\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ src\_img\_rect;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00075}00075\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (w-\/>\mbox{\hyperlink{structei__impl__widget__t_a80d318ccd2d7a7e1dd75fdfc8ef49ffc}{img\_rect\_ptr}}\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00076}00076\ \ \ \ \ \ \ \ \ \ \ \ \ src\_img\_rect\ =\ *(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a80d318ccd2d7a7e1dd75fdfc8ef49ffc}{img\_rect\_ptr}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00077}00077\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00078}00078\ \ \ \ \ \ \ \ \ \ \ \ \ src\_img\_rect.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}\ =\ \mbox{\hyperlink{ei__utils_8h_a0340ad040bce7744b00c5b2f73e41fcb}{ei\_point\_zero}}();}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00079}00079\ \ \ \ \ \ \ \ \ \ \ \ \ src\_img\_rect.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}\ =\ \mbox{\hyperlink{hw__interface_8h_a7b92235ad70d5017c843c66affccdcd2}{hw\_surface\_get\_size}}(w-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00080}00080\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00081}00081\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__size__t}{ei\_size\_t}}\ display\_img\_size\ =\ src\_img\_rect.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00082}00082\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__point__t}{ei\_point\_t}}\ img\_pos;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (w-\/>\mbox{\hyperlink{structei__impl__widget__t_a029c66afc751e2166915e82f765dffd6}{img\_anchor}})\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a696c63e5bb8cab534cdf59d9a97f836b}{ei\_anc\_northwest}}:\ img\_pos\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}};\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00086}00086\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ ...\ autres\ ancres\ ...}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00087}00087\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450a5704b2469014b3e93fbdb0b297ed92b0}{ei\_anc\_center}}:}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00088}00088\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00089}00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ img\_pos.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ -\/\ display\_img\_size.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}})\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00090}00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ img\_pos.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ =\ content\_area.\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +\ (content\_area.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ -\/\ display\_img\_size.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}})\ /\ 2;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00091}00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00092}00092\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00093}00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}})\ \{\ \textcolor{comment}{//\ Décaler\ si\ pressé}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00094}00094\ \ \ \ \ \ \ \ \ \ \ \ \ img\_pos.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +=\ 1;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00095}00095\ \ \ \ \ \ \ \ \ \ \ \ \ img\_pos.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +=\ 1;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00096}00096\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00097}00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ dst\_img\_rect\ =\ \{img\_pos,\ display\_img\_size\};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00098}00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{hw__interface_8h_a1b9b22f29bb9de0b39ea904fd66251be}{hw\_surface\_lock}}(w-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00100}00100\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__draw_8h_ae92bf0bdd285617d694f5fe8162c20e2}{ei\_copy\_surface}}(surface,\ \&dst\_img\_rect,\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}},\ \&src\_img\_rect,\ \mbox{\hyperlink{hw__interface_8h_a99322fd87f28b843dbf722b41d9ffcfc}{hw\_surface\_has\_alpha}}(w-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00101}00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{hw__interface_8h_abf4681e5ead295ccf5b3df3ec8adab66}{hw\_surface\_unlock}}(w-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00102}00102\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00105}00105\ \ \ \ \ \textcolor{comment}{//\ 3.\ Dessiner\ les\ enfants}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00106}00106\ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}\ children\_clipper\_final;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00108}00108\ \ \ \ \ \textcolor{comment}{//\ Premier\ argument\ de\ intersect\_rects\ est\ le\ rectangle\ à\ clipper\ (content\_area)}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00109}00109\ \ \ \ \ \textcolor{comment}{//\ Deuxième\ argument\ est\ le\ clipper\ externe.}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00110}00110\ \ \ \ \ \textcolor{comment}{//\ Troisième\ argument\ (src\_rect)\ n'est\ pas\ utile\ ici,\ donc\ on\ passe\ NULL.}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00111}00111\ \ \ \ \ children\_clipper\_final\ =\ \mbox{\hyperlink{ei__implementation_8c_a37335a5590d7651470d877aeec5d9c2a}{intersect\_rects}}(\&content\_area,\ clipper,\ NULL);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00112}00112\ \ \ \ \ \textcolor{comment}{//\ Note:\ 'clipper'\ est\ déjà\ un\ ei\_rect\_t*}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00113}00113\ \ \ \ \ \textcolor{comment}{//\ 'content\_area'\ est\ une\ variable\ locale\ ei\_rect\_t,\ donc\ on\ passe\ \&content\_area}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00114}00114\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00115}00115\ \ \ \ \ \textcolor{keywordflow}{if}\ (children\_clipper\_final.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ >\ 0\ \&\&\ children\_clipper\_final.\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}}\ >\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00116}00116\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__implementation_8h_a857f4be2cbfb1be5aed407cc001ccccb}{ei\_impl\_widget\_draw\_children}}(widget,\ surface,\ pick\_surface,\ \&children\_clipper\_final);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00117}00117\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00119}00119\ \ \ \ \ \textcolor{comment}{//\ 4.\ Dessiner\ sur\ le\ pick\_surface\ pour\ le\ frame\ lui-\/même}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00120}00120\ \ \ \ \ \textcolor{keywordflow}{if}\ (pick\_surface)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00121}00121\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__draw_8h_a8df4b1a25d4b7c46851a4e7a12a45b2e}{ei\_fill}}(pick\_surface,\ \&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a0f0f3a719755e6e9ad65cc69aa1e0c76}{pick\_color}}),\ \&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00122}00122\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00123}00123\ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00124}00124\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00125}\mbox{\hyperlink{ei__button_8c_a8c3eb2f769516cb6692cc2826904f394}{00125}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__button_8c_a8c3eb2f769516cb6692cc2826904f394}{button\_setdefaultsfunc}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00126}00126\ \ \ \ \ \mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}*\ button\ =\ (\mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}*)widget;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00127}00127\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*\ w\ =\ \&(button-\/>\mbox{\hyperlink{structei__impl__button__t_a5ea02b641a60db76f8ced737fc62ba92}{widget}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00129}00129\ \ \ \ \ w-\/>\mbox{\hyperlink{structei__impl__widget__t_a8916d985d3477bba2428fc0ec5c5d8fc}{requested\_size}}\ =\ \mbox{\hyperlink{ei__utils_8h_a4b1d120e983284a82145e464ad74725c}{ei\_size}}(0,\ 0);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00130}00130\ \ \ \ \ w-\/>\mbox{\hyperlink{structei__impl__widget__t_aff48ba17b0db57d4653d64044045a758}{bg\_color}}\ =\ \mbox{\hyperlink{ei__types_8h_a00dfca48550b7224f2d8011497b9fd8c}{ei\_default\_background\_color}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00131}00131\ \ \ \ \ w-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}}\ =\ \mbox{\hyperlink{ei__widget__configure_8h_a9d4970e13991bc2e49f47892c7e9429f}{k\_default\_button\_border\_width}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00132}00132\ \ \ \ \ w-\/>\mbox{\hyperlink{structei__impl__widget__t_af5813e1606db0d2986463aef87e05725}{relief}}\ =\ \mbox{\hyperlink{ei__types_8h_aa79a32b1d8ece0e44cfa394e870b270bac1e7867185743599ffcceb42784bd4e3}{ei\_relief\_raised}};\ \textcolor{comment}{//\ Relief\ par\ défaut\ pour\ un\ bouton}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00133}00133\ \ \ \ \ \textcolor{comment}{//\ text,\ font,\ etc.\ sont\ initialisés\ par\ ei\_widget\_create}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00135}00135\ \ \ \ \ button-\/>\mbox{\hyperlink{structei__impl__button__t_a2f0240590eb1b3f4bd22f387ed63e7ff}{corner\_radius}}\ =\ \mbox{\hyperlink{ei__widget__configure_8h_aa204a20fcee599bf19f02f7813dac04d}{k\_default\_button\_corner\_radius}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00136}00136\ \ \ \ \ button-\/>\mbox{\hyperlink{structei__impl__button__t_aeb527e6386c931a9bcf0ffa9b18ae8ca}{callback}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00137}00137\ \ \ \ \ button-\/>\mbox{\hyperlink{structei__impl__button__t_a928813c2968623fddafb0c5dc0446daf}{user\_param}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00138}00138\ \ \ \ \ button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00139}00139\ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00140}00140\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00142}00142\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00143}00143\ \textcolor{comment}{//\ Fonction\ pour\ vérifier\ si\ un\ point\ est\ dans\ un\ rectangle\ (si\ elle\ n'est\ pas\ déjà\ globale)}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00144}00144\ \textcolor{comment}{//\ Si\ vous\ l'avez\ déjà\ définie\ ailleurs\ (par\ ex.\ toplevel.c),\ vous\ pouvez\ l'enlever\ d'ici}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00145}00145\ \textcolor{comment}{//\ et\ la\ déclarer\ dans\ un\ .h\ commun\ ou\ la\ rendre\ static\ si\ elle\ est\ locale\ à\ un\ module.}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00146}00146\ \textcolor{comment}{//\ Pour\ cet\ exemple,\ je\ la\ laisse\ ici\ pour\ que\ la\ fonction\ soit\ autonome.}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00147}\mbox{\hyperlink{ei__button_8c_a31ab527881d15a0b7aef99c977dca9c8}{00147}}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{ei__button_8c_a31ab527881d15a0b7aef99c977dca9c8}{point\_in\_rect}}(\mbox{\hyperlink{structei__point__t}{ei\_point\_t}}\ point,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_t}}*\ rect)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00148}00148\ \ \ \ \ \textcolor{keywordflow}{return}\ (point.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ >=\ rect-\/>\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ \&\&}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ point.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ <\ rect-\/>\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a6ec4a8846bae4b9694506dae039047b3}{x}}\ +\ rect-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a981037618942814a4318a4c27cdaecc1}{width}}\ \&\&}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ point.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ >=\ rect-\/>\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ \&\&}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ point.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ <\ rect-\/>\mbox{\hyperlink{structei__rect__t_aabe78780aa971b9cb9742ed59a2e9438}{top\_left}}.\mbox{\hyperlink{structei__point__t_a0c0f1bfa95c372595c52522877f556a0}{y}}\ +\ rect-\/>\mbox{\hyperlink{structei__rect__t_a200c48a352d448a24d4f85673f6bad14}{size}}.\mbox{\hyperlink{structei__size__t_a2f152e26c90d01cac2b337ebc118a5f1}{height}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00152}00152\ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00155}\mbox{\hyperlink{ei__button_8c_a0816db7b3151d46a3a6870a7b285b3dc}{00155}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{ei__button_8c_a0816db7b3151d46a3a6870a7b285b3dc}{button\_handlefunc}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget,\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structei__event__t}{ei\_event\_t}}*\ event)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00156}00156\ \ \ \ \ \mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}*\ button\ =\ (\mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}*)widget;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00157}00157\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*\ w\ =\ \&(button-\/>\mbox{\hyperlink{structei__impl__button__t_a5ea02b641a60db76f8ced737fc62ba92}{widget}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00158}00158\ \ \ \ \ \textcolor{keywordtype}{bool}\ tell\_event\_was\_handled\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00159}00159\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00160}00160\ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ handlefunc\ received\ event\ type\ \%d\(\backslash\)n"{},\ (void*)widget,\ event-\/>type);\ //\ Debug\ général}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00161}00161\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00162}00162\ \ \ \ \ \textcolor{keywordflow}{switch}\ (event-\/>\mbox{\hyperlink{structei__event__t_aee18f11986ed603959de628558812c58}{type}})\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00163}00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__event_8h_a132dde064150d861ad24e9d839cbe007ae75b2b6a8423d54c46a418d222e0af66}{ei\_ev\_mouse\_buttondown}}:}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Mousedown\ event,\ button\ \%d\(\backslash\)n"{},\ (void*)widget,\ event-\/>param.mouse.button);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (event-\/>\mbox{\hyperlink{structei__event__t_a4672a7bfde55275174a723359a0487ab}{param}}.\mbox{\hyperlink{structei__event__t_a7f0b0d0cf765a822aca7a435510d9d85}{mouse}}.\mbox{\hyperlink{structei__mouse__event__t_ae8332c582b2949aea24c9d70c3fec296}{button}}\ ==\ \mbox{\hyperlink{ei__event_8h_ab1e5ff50988ae5dd3b9c5c315af68bceac619c903d78e8f1594e622880d7b0397}{ei\_mouse\_button\_left}})\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__point__t}{ei\_point\_t}}\ click\_pos\ =\ \textcolor{keyword}{event}-\/>param.mouse.where;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ MODIF:\ Utiliser\ la\ fonction\ point\_in\_rect\ pour\ la\ clarté\ et\ éviter\ la\ redondance}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ei__button_8c_a31ab527881d15a0b7aef99c977dca9c8}{point\_in\_rect}}(click\_pos,\ \&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}})))\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Button\ \%p:\ Mousedown\ INSIDE.\ Avant\ is\_pressed\ =\ \%d\(\backslash\)n"{}},\ (\textcolor{keywordtype}{void}*)widget,\ button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}})\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Button\ \%p:\ Mousedown.\ is\_pressed\ set\ to\ TRUE.\ Invalidating\ rect.\(\backslash\)n"{}},\ (\textcolor{keywordtype}{void}*)widget);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__application_8h_a92110923e2f3b88c9e0c5cf5071cf410}{ei\_app\_invalidate\_rect}}(\&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Mousedown.\ Was\ already\ pressed.\ No\ state\ change.\(\backslash\)n"{},\ (void*)widget);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__event_8h_a939d0278da85e35f45e58326d1182b00}{ei\_event\_set\_active\_widget}}(widget);\ \textcolor{comment}{//\ Le\ bouton\ capture\ les\ événements\ souris}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tell\_event\_was\_handled\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Set\ as\ active\ widget.\(\backslash\)n"{},\ (void*)widget);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Mousedown\ OUTSIDE.\(\backslash\)n"{},\ (void*)widget);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00185}00185\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00186}00186\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__event_8h_a132dde064150d861ad24e9d839cbe007aabd9931e36fb3628cc044a2aafc2c7e4}{ei\_ev\_mouse\_buttonup}}:}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Mouseup\ event,\ button\ \%d,\ active\_widget\ =\ \%p\(\backslash\)n"{},\ (void*)widget,\ event-\/>param.mouse.button,\ ei\_event\_get\_active\_widget());\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (event-\/>\mbox{\hyperlink{structei__event__t_a4672a7bfde55275174a723359a0487ab}{param}}.\mbox{\hyperlink{structei__event__t_a7f0b0d0cf765a822aca7a435510d9d85}{mouse}}.\mbox{\hyperlink{structei__mouse__event__t_ae8332c582b2949aea24c9d70c3fec296}{button}}\ ==\ \mbox{\hyperlink{ei__event_8h_ab1e5ff50988ae5dd3b9c5c315af68bceac619c903d78e8f1594e622880d7b0397}{ei\_mouse\_button\_left}}\ \&\&\ \mbox{\hyperlink{ei__event_8h_a929e765ce56f1902f9873fb5bc3eec5e}{ei\_event\_get\_active\_widget}}()\ ==\ widget)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ was\_pressed\_at\_release\_moment\ =\ button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}};\ \textcolor{comment}{//\ Capture\ l'état\ visuel\ au\ moment\ du\ up}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Button\ \%p:\ Mouseup\ (was\ active).\ Avant\ is\_pressed\ =\ \%d\(\backslash\)n"{}},\ (\textcolor{keywordtype}{void}*)widget,\ button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}})\ \{\ \textcolor{comment}{//\ Si\ visuellement\ enfoncé,\ on\ le\ relève}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Button\ \%p:\ Mouseup.\ is\_pressed\ set\ to\ FALSE.\ Invalidating\ rect.\(\backslash\)n"{}},\ (\textcolor{keywordtype}{void}*)widget);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__application_8h_a92110923e2f3b88c9e0c5cf5071cf410}{ei\_app\_invalidate\_rect}}(\&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00196}00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00197}00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Mouseup.\ Was\ not\ visually\ pressed.\ No\ state\ change\ for\ is\_pressed.\(\backslash\)n"{},\ (void*)widget);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00198}00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00199}00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__event_8h_a939d0278da85e35f45e58326d1182b00}{ei\_event\_set\_active\_widget}}(NULL);\ \textcolor{comment}{//\ Relâcher\ la\ capture\ d'événements}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00200}00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Released\ active\ widget.\(\backslash\)n"{},\ (void*)widget);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00201}00201\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00202}00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__point__t}{ei\_point\_t}}\ release\_pos\ =\ \textcolor{keyword}{event}-\/>param.mouse.where;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00203}00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ on\_button\_at\_release\ =\ \mbox{\hyperlink{ei__button_8c_a31ab527881d15a0b7aef99c977dca9c8}{point\_in\_rect}}(release\_pos,\ \&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00204}00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Button\ \%p:\ Mouseup.\ Cursor\ on\_button\_at\_release\ =\ \%d.\ Visual\ state\ was\_pressed\_at\_release\_moment\ =\ \%d\(\backslash\)n"{}},\ (\textcolor{keywordtype}{void}*)widget,\ on\_button\_at\_release,\ was\_pressed\_at\_release\_moment);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00205}00205\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00206}00206\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00207}00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (was\_pressed\_at\_release\_moment\ \&\&\ on\_button\_at\_release\ \&\&\ button-\/>\mbox{\hyperlink{structei__impl__button__t_aeb527e6386c931a9bcf0ffa9b18ae8ca}{callback}}\ !=\ NULL)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00208}00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Button\ \%p:\ Calling\ callback.\(\backslash\)n"{}},\ (\textcolor{keywordtype}{void}*)widget);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00209}00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ button-\/>\mbox{\hyperlink{structei__impl__button__t_aeb527e6386c931a9bcf0ffa9b18ae8ca}{callback}}(widget,\ event,\ button-\/>\mbox{\hyperlink{structei__impl__button__t_a928813c2968623fddafb0c5dc0446daf}{user\_param}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00210}00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00211}00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Callback\ NOT\ called\ (was\_pressed=\%d,\ on\_button=\%d,\ callback\_exists=\%d).\(\backslash\)n"{},\ (void*)widget,\ was\_pressed\_at\_release\_moment,\ on\_button\_at\_release,\ button-\/>callback\ !=\ NULL);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00212}00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00213}00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tell\_event\_was\_handled\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00214}00214\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00215}00215\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00216}00216\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00217}00217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{ei__event_8h_a132dde064150d861ad24e9d839cbe007a5673338c91142f9c26826d1b52326b19}{ei\_ev\_mouse\_move}}:}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00218}00218\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ei__event_8h_a929e765ce56f1902f9873fb5bc3eec5e}{ei\_event\_get\_active\_widget}}()\ ==\ widget)\ \{\ \textcolor{comment}{//\ Si\ ce\ bouton\ est\ celui\ qui\ est\ actuellement\ "{}cliqué\ et\ maintenu"{}}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00219}00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__point__t}{ei\_point\_t}}\ current\_pos\ =\ \textcolor{keyword}{event}-\/>param.mouse.where;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00220}00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ on\_button\_now\ =\ \mbox{\hyperlink{ei__button_8c_a31ab527881d15a0b7aef99c977dca9c8}{point\_in\_rect}}(current\_pos,\ \&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00221}00221\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00222}00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Mousemove\ (active).\ On\ button\ now\ =\ \%d.\ Current\ is\_pressed\ =\ \%d\(\backslash\)n"{},\ (void*)widget,\ on\_button\_now,\ button-\/>is\_pressed);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00223}00223\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}}\ \&\&\ !on\_button\_now)\ \{\ \textcolor{comment}{//\ Souris\ sortie\ du\ bouton\ tout\ en\ maintenant\ cliqué}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}}\ =\ \textcolor{keyword}{false};\ \textcolor{comment}{//\ Visuellement,\ le\ bouton\ se\ relève}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Button\ \%p:\ Mousemove.\ MOVED\ OUT\ while\ pressed.\ is\_pressed\ set\ to\ FALSE.\ Invalidating\ rect.\(\backslash\)n"{}},\ (\textcolor{keywordtype}{void}*)widget);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__application_8h_a92110923e2f3b88c9e0c5cf5071cf410}{ei\_app\_invalidate\_rect}}(\&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (!button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}}\ \&\&\ on\_button\_now)\ \{\ \textcolor{comment}{//\ Souris\ re-\/rentrée\ dans\ le\ bouton\ en\ maintenant\ cliqué}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ button-\/>\mbox{\hyperlink{structei__impl__button__t_a409431096c6d3aaee0076ad318390a21}{is\_pressed}}\ =\ \textcolor{keyword}{true};\ \textcolor{comment}{//\ Visuellement,\ le\ bouton\ s'enfonce\ à\ nouveau}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ printf(\textcolor{stringliteral}{"{}Button\ \%p:\ Mousemove.\ MOVED\ IN\ while\ not\ pressed\ (but\ active).\ is\_pressed\ set\ to\ TRUE.\ Invalidating\ rect.\(\backslash\)n"{}},\ (\textcolor{keywordtype}{void}*)widget);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__application_8h_a92110923e2f3b88c9e0c5cf5071cf410}{ei\_app\_invalidate\_rect}}(\&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00233}00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tell\_event\_was\_handled\ =\ \textcolor{keyword}{true};\ \textcolor{comment}{//\ Le\ bouton\ actif\ consomme\ les\ mouvements\ de\ souris}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00234}00234\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00235}00235\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00236}00236\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00237}00237\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00238}00238\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ printf("{}Button\ \%p:\ Unhandled\ event\ type\ \%d\(\backslash\)n"{},\ (void*)widget,\ event-\/>type);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00239}00239\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00240}00240\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00241}00241\ \ \ \ \ \textcolor{comment}{//\ if\ (tell\_event\_was\_handled)\ printf("{}Button\ \%p:\ Event\ type\ \%d\ was\ handled.\(\backslash\)n"{},\ (void*)widget,\ event-\/>type);\ //\ Debug}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00242}00242\ \ \ \ \ \textcolor{keywordflow}{return}\ tell\_event\_was\_handled;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00243}00243\ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00244}00244\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00245}\mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{00245}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structei__widgetclass__t}{ei\_widgetclass\_t}}\ \mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}};\ \textcolor{comment}{//\ Renommé\ pour\ éviter\ conflit}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00246}00246\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00247}\mbox{\hyperlink{ei__button_8c_a838fccb1cd368bdb5dd486f5fcb07ac3}{00247}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__button_8c_a838fccb1cd368bdb5dd486f5fcb07ac3}{ei\_button\_register\_class}}()\ \{\ \textcolor{comment}{//\ Renommé\ pour\ être\ unique}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00248}00248\ \ \ \ \ strncpy(\mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_aa5799b5999890cf04915bf0fe5151ec8}{name}},\ \textcolor{stringliteral}{"{}button"{}},\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_aa5799b5999890cf04915bf0fe5151ec8}{name}})-\/1);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00249}00249\ \ \ \ \ \mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_aa5799b5999890cf04915bf0fe5151ec8}{name}}[\textcolor{keyword}{sizeof}(\mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_aa5799b5999890cf04915bf0fe5151ec8}{name}})-\/1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00250}00250\ \ \ \ \ \mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_a233446250cdde4347c1381427923d21a}{allocfunc}}\ =\ \mbox{\hyperlink{ei__button_8c_a9e3ca58537c286bea68cb78b5d98680c}{button\_allocfunc}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00251}00251\ \ \ \ \ \mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_aebe6139b31816495e866c99ec3e83de6}{releasefunc}}\ =\ \mbox{\hyperlink{ei__button_8c_abf0296da79c7d8d40e88e6abba4b2d56}{button\_releasefunc}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00252}00252\ \ \ \ \ \mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_a528168099a2a1515c4cf65400ccbfff2}{drawfunc}}\ =\ \mbox{\hyperlink{ei__button_8c_a9ba50d4fd7410bc63b8f3c4237c54848}{button\_drawfunc}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00253}00253\ \ \ \ \ \mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_a5fec706eefca10172d897cf61b268510}{setdefaultsfunc}}\ =\ \mbox{\hyperlink{ei__button_8c_a8c3eb2f769516cb6692cc2826904f394}{button\_setdefaultsfunc}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00254}00254\ \ \ \ \ \mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_aaf0aa3f54a48a6b3f8b8e12574ede4b7}{geomnotifyfunc}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00255}00255\ \ \ \ \ \mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_a5ed633370e3c90d21244d93d5467227e}{handlefunc}}\ =\ \mbox{\hyperlink{ei__button_8c_a0816db7b3151d46a3a6870a7b285b3dc}{button\_handlefunc}};}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00256}00256\ \ \ \ \ \mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}}.\mbox{\hyperlink{structei__widgetclass__t_aa184e650475ec2451f033858db1876f0}{next}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00257}00257\ \ \ \ \ \mbox{\hyperlink{ei__widgetclass_8h_af742f16921cbf9c4a1a662ade31d91cc}{ei\_widgetclass\_register}}(\&\mbox{\hyperlink{ei__button_8c_afe7856b3e971125e1acf8f0db54e4e6a}{g\_button\_class\_struct}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00258}00258\ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00259}00259\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00260}\mbox{\hyperlink{ei__widget__configure_8h_ab07d1eaccd7b97fd429eaff61a3cda9c}{00260}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{ei__button_8c_ab07d1eaccd7b97fd429eaff61a3cda9c}{ei\_button\_configure}}(\mbox{\hyperlink{structei__impl__widget__t}{ei\_widget\_t}}\ widget,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00261}00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__size__t}{ei\_size\_t}}*\ requested\_size,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00262}00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structei__color__t}{ei\_color\_t}}*\ color,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00263}00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}*\ border\_width,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00264}00264\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}*\ corner\_radius,\ \textcolor{comment}{//\ Spécifique\ au\ bouton}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00265}00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_aa79a32b1d8ece0e44cfa394e870b270b}{ei\_relief\_t}}*\ relief,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00266}00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_ae933567aa1853d61b39fefb777088417}{ei\_string\_t}}*\ text,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00267}00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_a22c8198e4d641e4bc67bb17f9c6bcda7}{ei\_font\_t}}*\ text\_font,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00268}00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__color__t}{ei\_color\_t}}*\ text\_color,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00269}00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450}{ei\_anchor\_t}}*\ text\_anchor,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00270}00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{hw__interface_8h_ad9970ae727c438faaf09c58c5defb796}{ei\_surface\_t}}*\ img,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00271}00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structei__rect__t}{ei\_rect\_ptr\_t}}*\ img\_rect,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00272}00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_a3852c963af609d31d7cfcff79c4c8450}{ei\_anchor\_t}}*\ img\_anchor,}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00273}00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__widget_8h_aa66a260ca0769c3d7eb19d3b8dab2f76}{ei\_callback\_t}}*\ callback,\ \ \ \ \ \textcolor{comment}{//\ Spécifique\ au\ bouton}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00274}00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__types_8h_a851d40b095b5bf6f3b8733f0a09c820b}{ei\_user\_param\_t}}*\ user\_param)\ \{\ \textcolor{comment}{//\ Spécifique\ au\ bouton}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00275}00275\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00276}00276\ \ \ \ \ \mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}*\ button\ =\ (\mbox{\hyperlink{structei__impl__button__t}{ei\_impl\_button\_t}}*)widget;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00277}00277\ \ \ \ \ \mbox{\hyperlink{structei__impl__widget__t}{ei\_impl\_widget\_t}}*\ w\ =\ \&(button-\/>\mbox{\hyperlink{structei__impl__button__t_a5ea02b641a60db76f8ced737fc62ba92}{widget}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00278}00278\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00279}00279\ \ \ \ \ \textcolor{comment}{//\ Configurer\ les\ champs\ hérités\ de\ ei\_impl\_widget\_t}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00280}00280\ \ \ \ \ \textcolor{keywordflow}{if}\ (requested\_size)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_a8916d985d3477bba2428fc0ec5c5d8fc}{requested\_size}}\ =\ *requested\_size;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00281}00281\ \ \ \ \ \textcolor{keywordflow}{if}\ (color)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_aff48ba17b0db57d4653d64044045a758}{bg\_color}}\ =\ *color;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00282}00282\ \ \ \ \ \textcolor{keywordflow}{if}\ (border\_width)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_a7a8fc5efe35d525c4652f4fa3208d976}{border\_width}}\ =\ *border\_width;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00283}00283\ \ \ \ \ \textcolor{keywordflow}{if}\ (relief)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_af5813e1606db0d2986463aef87e05725}{relief}}\ =\ *relief;\ \textcolor{comment}{//\ Relief\ de\ base}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00284}00284\ \ \ \ \ \textcolor{keywordflow}{if}\ (text)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00285}00285\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (w-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}})\ free(w-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}});}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00286}00286\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*text)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}}\ =\ strdup(*text);\ \textcolor{keywordflow}{else}\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_aaabb0a898eaf01aef4c0a80c8ed66f4a}{text}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00287}00287\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00288}00288\ \ \ \ \ \textcolor{keywordflow}{if}\ (text\_font)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_acaf4f5a2151f73f97c491dc420d0e168}{text\_font}}\ =\ *text\_font;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00289}00289\ \ \ \ \ \textcolor{keywordflow}{if}\ (text\_color)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_aed9fd9ef6da2d00a547c7c2c5c4ce2bf}{text\_color}}\ =\ *text\_color;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00290}00290\ \ \ \ \ \textcolor{keywordflow}{if}\ (text\_anchor)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_a7ff035c82ad973064546f0fb5b4c2642}{text\_anchor}}\ =\ *text\_anchor;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00291}00291\ \ \ \ \ \textcolor{keywordflow}{if}\ (img)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_ab1ca6d414c8b7e25e3aa17c257fe5c83}{img}}\ =\ *img;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00292}00292\ \ \ \ \ \textcolor{keywordflow}{if}\ (img\_rect)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00293}00293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (*img\_rect\ ==\ NULL)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_a80d318ccd2d7a7e1dd75fdfc8ef49ffc}{img\_rect\_ptr}}\ =\ NULL;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00294}00294\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \{\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_a3c15b5d61639acdf50a32f2f1f2e92d4}{img\_rect\_val}}\ =\ **img\_rect;\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_a80d318ccd2d7a7e1dd75fdfc8ef49ffc}{img\_rect\_ptr}}\ =\ \&(w-\/>\mbox{\hyperlink{structei__impl__widget__t_a3c15b5d61639acdf50a32f2f1f2e92d4}{img\_rect\_val}});\ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00295}00295\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00296}00296\ \ \ \ \ \textcolor{keywordflow}{if}\ (img\_anchor)\ w-\/>\mbox{\hyperlink{structei__impl__widget__t_a029c66afc751e2166915e82f765dffd6}{img\_anchor}}\ =\ *img\_anchor;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00297}00297\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00298}00298\ \ \ \ \ \textcolor{comment}{//\ Configurer\ les\ champs\ spécifiques\ au\ bouton}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00299}00299\ \ \ \ \ \textcolor{keywordflow}{if}\ (corner\_radius)\ button-\/>\mbox{\hyperlink{structei__impl__button__t_a2f0240590eb1b3f4bd22f387ed63e7ff}{corner\_radius}}\ =\ *corner\_radius;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00300}00300\ \ \ \ \ \textcolor{keywordflow}{if}\ (callback)\ button-\/>\mbox{\hyperlink{structei__impl__button__t_aeb527e6386c931a9bcf0ffa9b18ae8ca}{callback}}\ =\ *callback;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00301}00301\ \ \ \ \ \textcolor{keywordflow}{if}\ (user\_param)\ button-\/>\mbox{\hyperlink{structei__impl__button__t_a928813c2968623fddafb0c5dc0446daf}{user\_param}}\ =\ *user\_param;}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00302}00302\ }
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00303}00303\ \ \ \ \ \textcolor{comment}{//\ Invalidation\ si\ nécessaire}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00304}00304\ \ \ \ \ \textcolor{keywordflow}{if}\ (requested\_size\ ||\ text\ ||\ img)\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00305}00305\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (widget-\/>\mbox{\hyperlink{structei__impl__widget__t_aad1c98bc7b84cb318801e78df23f9cf9}{placer\_params}})\ \mbox{\hyperlink{ei__implementation_8h_a5761c9590158c7d37714479307ee1059}{ei\_impl\_placer\_run}}(widget);}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00306}00306\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00307}00307\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ei__application_8h_a92110923e2f3b88c9e0c5cf5071cf410}{ei\_app\_invalidate\_rect}}(\&(widget-\/>\mbox{\hyperlink{structei__impl__widget__t_a4917a94e71d8fe03d8cf3b2b90953e5f}{screen\_location}}));}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00308}00308\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{ei__button_8c_source_l00309}00309\ \}}

\end{DoxyCode}
